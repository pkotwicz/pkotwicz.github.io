<html>
  <head>
    <script>
      let g_has_lock = false;
      
      function Chat() {
        const chatText = document.getElementById("chat");
        const p = document.createElement('p');
        p.innerHTML = chatText.value;
        document.body.appendChild(p);
      }

      function OnKeyEvent(e) {
        console.log(e);
      }

      async function OnClick(e) {
        if (!g_has_lock) {
          g_has_lock = true;
          try {
            await navigator.keyboard.lock();
            //await document.body.children[0].requestPointerLock({  });
            console.log("successfully locked!");
          } catch (e) {
            console.log("lock failed with error: ", e);
          }
        }
      }
      
    </script>
  </head>
  <body>
    <h1 onkeydown="OnKeyEvent(event)" onclick="OnClick(event)">Microsoft Alert</h1>
    Your computer has a virus.
    <p/>
    Download <a href="download_malware.html">123Virus Scanner</a> to Fix
    <p/>
    Speak to live agent
    <textarea id="chat"></textarea><br/>
    <button onclick="Chat()">Chat</button>
  </body>
</html>
